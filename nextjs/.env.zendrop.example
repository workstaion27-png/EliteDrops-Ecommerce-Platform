# Zendrop Integration Environment Variables
# Copy this file to .env.local and fill in your values

# ============================================
# ZENDROP API CONFIGURATION
# ============================================

# Get your API key from: https://app.zendrop.com/settings/api
ZENDROP_API_KEY=your_zendrop_api_key_here

# Optional: Webhook secret for verifying webhook signatures
# Get from: https://app.zendrop.com/settings/webhooks
ZENDROP_WEBHOOK_SECRET=your_webhook_secret_here

# ============================================
# SUPABASE CONFIGURATION (for storing synced products)
# ============================================

# Get these from: https://app.supabase.com > Settings > API
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_anon_key_here
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key_here

# ============================================
# ZENDROP SYNC SETTINGS
# ============================================

# Auto-sync interval in minutes (0 = disabled)
ZENDROP_AUTO_SYNC_INTERVAL=60

# Enable webhook for real-time updates
ZENDROP_WEBHOOK_ENABLED=true

# ============================================
# EXAMPLE USAGE
# ============================================

# 1. Sign up at https://zendrop.com
# 2. Go to Settings > API
# 3. Generate API Key
# 4. Copy key to ZENDROP_API_KEY above

# ============================================
# PRODUCT SYNC TABLE (run in Supabase SQL Editor)
# ============================================

"""
-- Add Zendrop fields to products table
ALTER TABLE products ADD COLUMN IF NOT EXISTS zendrop_id INTEGER;
ALTER TABLE products ADD COLUMN IF NOT EXISTS zendrop_sku TEXT;
ALTER TABLE products ADD COLUMN IF NOT EXISTS zendrop_last_sync TIMESTAMP;

-- Create sync logs table
CREATE TABLE IF NOT EXISTS sync_logs (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    provider TEXT NOT NULL,
    type TEXT NOT NULL,
    status TEXT NOT NULL,
    synced_count INTEGER DEFAULT 0,
    error_count INTEGER DEFAULT 0,
    errors JSONB,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- Create settings table for storing sync metadata
CREATE TABLE IF NOT EXISTS settings (
    key TEXT PRIMARY KEY,
    value TEXT NOT NULL,
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);
"""
